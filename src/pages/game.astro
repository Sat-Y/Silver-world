---
import MainGridLayout from "../layouts/MainGridLayout.astro";

// æ¸¸æˆæ•°æ®
const gameList = [
	{
		title: "ç‹è€…è£è€€",
		status: "playing",
		description: "å°å­¦äº”å¹´çº§å°±å¼€å§‹æ•´çš„mobaæ‰‹æ¸¸è¯´æ˜¯ï¼Œæ„Ÿè§‰è¿˜å¯ä»¥ï¼Œç®—éª¨ç°çº§ç©å®¶",
		year: "å¿˜è®°äº†",
		playTime: "2000h+",
		genre: ["Moba", "æ‰‹æ¸¸"], 
		highestAchievement: "æœ€å¼ºç‹è€…15æ˜Ÿï¼Œå·…å³°æœ€é«˜1514åˆ†ï¼Œå‡ ä¸ªå¸‚æ ‡",
	},
	{
		title: "æ— ç•å¥‘çº¦",
		status: "playing",
		description: "å¤§å­¦æ¥è§¦çš„ç¬¬ä¸€æ¬¾fpsï¼Œæœ‰ç‚¹ä¸Šå¤´ï¼Œåˆèœåˆçˆ±ç©",
		year: "2024",
		playTime: "1800h+",
		genre: ["fps"],
		highestAchievement: "æœ€é«˜æ®µä½é“‚é‡‘ä¸€ï¼Œâ€œèœé¸¡â€å†³æ–—",
	},
	{
		title: "ä¸‰è§’æ´²è¡ŒåŠ¨",
		status: "playing",
		description: "ä¸»è¦ç©é‡Œé¢çš„æœæ‰“æ’¤ï¼Œæœ‰æ—¶å€™å¾ˆèˆ’æœæœ‰æ—¶å€™å¾ˆçº¢æ¸©è¯´å®è¯",
		year: "2024",
		playTime: "483h",
		genre: ["fps", "æœæ‰“æ’¤"],
		highestAchievement: "æœºå¯†kd1.2ï¼Œç»å¯†kd0.9ï¼Œç®—å°å”äºº",
	},
	{
		title: "åªç‹¼ï¼šå½±é€äºŒåº¦",
		status: "completed",
		description: "3Aé­‚ç±»æ¸¸æˆï¼Œæ¯”è¾ƒè€äº†ï¼Œä¹Ÿæ˜¯å¤§å­¦çš„æ—¶å€™æ¥è§¦ï¼Œè¢«æ‰“çˆ†äº†",
		year: "2024",
		playTime: "40h",
		genre: ["é­‚ç±»", "3A"],
		highestAchievement: "ç¬¬ä¸€æœŸå®Œæˆäº†50%ï¼ŒçœŸç©ä¸æ¥",
	},
	{
		title: "ç©ºæ´éª‘å£«(Hollow Knight)",
		status: "playing",
		description: "ä¹‹å‰ä¸ºäº†2025çš„æš‘å‡ä¸ºäº†åšè¯¥ç±»å‹æ¸¸æˆç©äº†ä¸€ä¸‹ï¼Œè¶…çº§ä¼˜ç§€",
		year: "2025",
		playTime: "70h",
		genre: ["é—¯å…³", "åœ°ä¸‹åŸ"],
		highestAchievement: "æ²¡é€šå…³ï¼Œç©åˆ°ç¬¬ä¸‰å¼ å›¾",
	},
	{
		title: "é‡‘é“²é“²",
		status: "playing",
		description: "ä¸æ˜¯æˆ‘æ¥è§¦çš„ç¬¬ä¸€æ¬¾è‡ªèµ°æ£‹ï¼Œä½†æ˜¯æˆ‘æ–­æ–­ç»­ç»­ç©çš„è‡ªèµ°æ£‹",
		year: "å¿˜è®°äº†",
		playTime: "300h+",
		genre: ["è‡ªèµ°æ£‹", "æ‰‹æ¸¸"],
		highestAchievement: "è¶…çº§å¤šçš„æˆå°±ï¼Œæœ€é«˜æ®µä½åŒæ’å¤§å¸ˆ",
	},
	{
		title: "æ°¸æ°æ— é—´",
		status: "completed",
		description: "ä¾ å®¢åƒé¸¡ç±»æ¸¸æˆï¼Œå†³æ–—æ–¹å¼ç±»çŸ³å¤´å‰ªåˆ€å¸ƒï¼Œéœ€è¦ä¸€å®šæ‰‹æ³•",
		year: "2023",
		playTime: "200h+",
		genre: ["ä¾ å®¢", "åƒé¸¡"],
		highestAchievement: "åŒæ’é“‚é‡‘ï¼Œä¼šçŒ›è“„çŒ›å‡º",
	},
	{
		title: "æˆ‘çš„ä¸–ç•Œ",
		status: "completed",
		description: "æˆ‘ç©çš„ç¬¬ä¸€æ¬¾æ²™æ²³ç”Ÿå­˜ç±»æ¸¸æˆï¼Œé‚£æ—¶å€™è¿˜å…³æ³¨äº†å¾ˆå¤šä¸»æ’­",
		year: "å¿˜è®°äº†",
		playTime: "300h+",
		genre: ["æ²™ç›’", "ç”Ÿå­˜"],
		highestAchievement: "å»ºç­‘å¤§å¸ˆï¼Œå‡»è´¥æœ«å½±é¾™ï¼Œä½“éªŒäº†æŒºå¤šæ¨¡ç»„",
	},
];

// è®¡ç®—ç»Ÿè®¡æ•°æ®
const stats = {
	total: gameList.length,
	playing: gameList.filter((game) => game.status === "playing").length,
	completed: gameList.filter((game) => game.status === "completed").length,
};

// è·å–çŠ¶æ€ä¿¡æ¯
function getStatusInfo(status) {
	const statusMap = {
		playing: { text: "æ­£åœ¨ç©", class: "bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300", icon: "ğŸ®" },
		completed: { text: "æš‚æ—¶é€€æ¸¸", class: "bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300", icon: "ğŸ†" },
		planned: { text: "è®¡åˆ’ä¸­", class: "bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300", icon: "ğŸ“" }
	};
	return statusMap[status] || { text: status, class: "bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300", icon: "?" };
}
---

<MainGridLayout title="æ¸¸æˆåº“" description="æˆ‘çš„æ¸¸æˆæ”¶è—å’Œæ¸¸ç©è®°å½•">
	<div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32">
		<div class="card-base z-10 px-9 py-6 relative w-full">
			<!-- é¡µé¢æ ‡é¢˜ -->
			<div class="relative w-full mb-8">
				<div class="mb-6">
					<h1 class="text-4xl font-bold text-black/90 dark:text-white/90 mb-2">æ¸¸æˆåº“</h1>
					<p class="text-black/75 dark:text-white/75">æˆ‘çš„æ¸¸æˆæ”¶è—å’Œæ¸¸ç©è®°å½•</p>
				</div>
				
				<!-- ç»Ÿè®¡å¡ç‰‡ -->
				<div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
					<div class="bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4">
						<div class="flex items-center gap-3">
							<div class="text-2xl">ğŸ®</div>
							<div>
								<div class="text-2xl font-bold text-blue-600 dark:text-blue-400">{stats.total}</div>
								<div class="text-sm text-blue-600/70 dark:text-blue-400/70">æ€»æ¸¸æˆæ•°</div>
							</div>
						</div>
					</div>
					<div class="bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4">
						<div class="flex items-center gap-3">
							<div class="text-2xl">ğŸ¯</div>
							<div>
								<div class="text-2xl font-bold text-green-600 dark:text-green-400">{stats.playing}</div>
								<div class="text-sm text-green-600/70 dark:text-green-400/70">æ­£åœ¨ç©</div>
							</div>
						</div>
					</div>
					<div class="bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-4">
						<div class="flex items-center gap-3">
							<div class="text-2xl">ğŸ†</div>
							<div>
								<div class="text-2xl font-bold text-purple-600 dark:text-purple-400">{stats.completed}</div>
								<div class="text-sm text-purple-600/70 dark:text-purple-400/70">æš‚æ—¶é€€æ¸¸</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- æ¸¸æˆåˆ—è¡¨ -->
			<div class="mb-8">
				<h2 class="text-2xl font-bold text-black/90 dark:text-white/90 mb-4">æ¸¸æˆåˆ—è¡¨</h2>
				<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
					{gameList.map(game => {
						const statusInfo = getStatusInfo(game.status);
						return (
							<div class="group relative bg-[var(--card-bg)] border border-[var(--line-divider)] rounded-[var(--radius-large)] overflow-hidden transition-all duration-300 hover:shadow-lg">
								<div class="flex flex-col">
									<div class="w-full p-4 flex flex-col justify-between">
										<div>
											<h3 class="text-lg font-bold text-black/90 dark:text-white/90 mb-2">{game.title}</h3>
											<p class="text-black/70 dark:text-white/70 mb-4 line-clamp-3">{game.description}</p>
											<div class="grid grid-cols-2 gap-3 mb-4">
												<div class="flex flex-col">
													<span class="text-black/50 dark:text-white/50 text-sm mb-1">å¹´ä»½</span>
													<span class="text-black/90 dark:text-white/90">{game.year}</span>
												</div>
												<div class="flex flex-col">
													<span class="text-black/50 dark:text-white/50 text-sm mb-1">æ¸¸æˆæ—¶é•¿</span>
													<span class="text-black/90 dark:text-white/90">{game.playTime}</span>
												</div>
												<div class="flex flex-col">
													<span class="text-black/50 dark:text-white/50 text-sm mb-1">æœ€é«˜æˆå°±</span>
													<span class="text-black/90 dark:text-white/90">{game.highestAchievement}</span>
												</div>
												<div class="flex flex-col">
													<span class="text-black/50 dark:text-white/50 text-sm mb-1">çŠ¶æ€</span>
													<span class={`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${statusInfo.class}`}>
														<span class="mr-1">{statusInfo.icon}</span>
														<span>{statusInfo.text}</span>
													</span>
												</div>
											</div>
										</div>
										<div class="flex flex-wrap gap-2">
											{game.genre.map(g => (
												<span class="px-2 py-1 bg-[var(--btn-regular-bg)] text-black/80 dark:text-white/80 rounded text-sm">{g}</span>
											))}
										</div>
									</div>
								</div>
							</div>
						);
					})}
				</div>
			</div>
		</div>
	</div>
</MainGridLayout>